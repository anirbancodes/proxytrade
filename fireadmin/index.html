<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>quantcap firebase admin</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js";
    </script>
  </head>
  <style>
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .signin {
      margin-top: -30vh;
      margin-bottom: 10vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 250px;
    }
    .links {
      display: flex;
      flex-direction: column;
    }
    a {
      margin-bottom: 15px;
    }
  </style>

  <body>
    <div class="signin">
      <input class="w-input" id="email" type="email" />
      <input class="w-input" id="password" type="text" />
      <a id="loginBtn" class="button-outline-blue w-button">Admin Login</a>
    </div>
    <div class="links">
      <a href="trade/bhav.html"
        ><button class="button-outline-blue w-button">Bhavcopy</button></a
      >
      <a href="trade/list.html"
        ><button class="button-outline-blue w-button">Stock Data NSE</button></a
      >
      <a href="trade/scripNSE.html"
        ><button class="button-outline-blue w-button">Scrip List NSE</button></a
      >
    </div>

    <script src="https://www.gstatic.com/firebasejs/5.9.4/firebase.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-auth.js"></script>

    <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-database.js"></script>

    <script>
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBhn1pgMa_mS4wqVrn8lwYiIrRZjkWANWo",
        authDomain: "qc-invest.firebaseapp.com",
        databaseURL:
          "https://qc-invest-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "qc-invest",
        storageBucket: "qc-invest.appspot.com",
        messagingSenderId: "936010698151",
        appId: "1:936010698151:web:bf6e4b103133588a1bfa82",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    <script>
      let loginBtn = document.getElementById("loginBtn");

      loginBtn.addEventListener("click", (e) => {
        e.preventDefault();
        signIn();
      });

      function signIn() {
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;

        firebase
          .auth()
          .signInWithEmailAndPassword(email, password)
          .then(() => {
            console.log("signed in");
            alert("signed");
          })
          .catch((error) => {
            // Handle Errors here.
            let errorCode = error.code;
            let errorMessage = error.message;
            console.log(errorCode, " : ", errorMessage);
          });
      }
    </script>
  </body>
</html>
